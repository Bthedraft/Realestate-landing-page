(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3161],{68749:function(e,n,i){"use strict";i.r(n),i.d(n,{__N_SSG:function(){return U},default:function(){return B}});var t=i(95087),o=i(20021),r=i(2353),c=i(73751),s=i.n(c),a=i(30837),l=i(26647),d=i.n(l),p=i(15110),f=i.n(p),u=i(87504),h=i(79047),m=i(82802),g=i(81323),x=i(80590),w=i(32773),y=i(82006);var _=i(40894),v=i(81843),j=i(77345),P=i(17713),C=i(3236),Z=i(54212),N=i(75099),T=i(37734),b=i(79988),k=i(20685),E=i(81018);function S(e){var n=e.initialTopics,i=(0,u.Z)().t,c=(0,N.GI)(),a=(0,_.Z)(["CAN_VIEW_UNPUBLISHED_TOPIC_PAGES"],_.G),l=function(e){var n=t.useState(!1),i=(0,r.Z)(n,2),o=i[0],c=i[1];return t.useEffect((function(){function n(n){n.code===e&&c(!0)}function i(n){n.code===e&&c(!1)}return window.addEventListener("keydown",n),window.addEventListener("keyup",i),function(){window.removeEventListener("keydown",n),window.removeEventListener("keyup",i)}}),[e]),o}("ShiftLeft"),p=t.useState(!1),P=(0,r.Z)(p,2),C=P[0],S=P[1],U=t.useState(n),B=(0,r.Z)(U,2),D=B[0],F=B[1],M=(0,h.d4)(v.RZ.collection("topics"),{idField:"id"}),X=(0,r.Z)(M,1)[0];t.useEffect((function(){F(n)}),[n]),t.useEffect((function(){X&&a&&F(X)}),[X,a]);var K=D.filter((function(e){return e.isPublished}));function V(e,n){return q.apply(this,arguments)}function q(){return(q=(0,o.Z)(s().mark((function e(n,i){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.RZ.collection("topics").doc(n.id).update({sortWeight:(n.sortWeight||0)+i});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var J=l?3:1;return(0,E.jsxs)(m.Z,{flagBag:c,header:a&&C&&(0,E.jsx)(x.g,{className:"dark",children:(0,E.jsxs)(T.K,{gap:2,className:"items-center",children:[(0,E.jsx)(w.O,{darkMode:!0}),(0,E.jsx)(b.z,{variant:"naked",iconLeft:"close",onClick:function(){return S(!1)},children:"Exit Editor Mode"})]})}),children:[(0,E.jsx)(y.U,{title:i("common:all-topics-header")}),(0,E.jsxs)(W,{children:[(0,E.jsx)(H,{children:i("common:all-topics-header")}),a&&!C&&(0,E.jsx)(b.z,{onClick:function(){return S(!0)},iconLeft:"pencil",children:i("common:edit")})]}),(0,E.jsx)(z,{children:i("common:all-topics-subheader")}),(0,E.jsx)(Z.r,{columns:{xs:2,sm:3,md:3,lg:3},children:(0,j.R)(C?D:K).map((function(e){return(0,E.jsxs)(I,{children:[(0,E.jsx)(f(),{href:"/categories/".concat(e.slug),passHref:!0,children:(0,E.jsx)(A,{children:(0,E.jsx)(L,{src:e.coverPhoto})})}),a&&C?(0,E.jsxs)(E.Fragment,{children:[e.isPublished?(0,E.jsx)(R,{children:e.name}):(0,E.jsx)(g.C,{withTrigger:!0,value:e.name,onSave:function(n){v.RZ.collection("topics").doc(e.id).update({name:n.value,slug:d()(n.value,{lower:!0,strict:!0})})},children:(0,E.jsx)(R,{children:e.name})}),(0,E.jsxs)(G,{children:[(0,E.jsx)(k.h,{icon:"arrowUp",onClick:function(){return V(e,J)}}),(0,E.jsx)(k.h,{icon:"arrowDown",onClick:function(){return V(e,-J)}}),(0,E.jsxs)(O,{children:["Sort Weight: ",e.sortWeight]})]})]}):(0,E.jsx)(R,{children:e.name})]},e.id)}))})]})}var I=a.ZP.div.withConfig({displayName:"AllTopicsPage__TopicContainer",componentId:"sc-fyephy-0"})(["display:flex;flex-direction:column;width:100%;margin-bottom:8px;"]),A=a.ZP.a.withConfig({displayName:"AllTopicsPage__TopicCoverLink",componentId:"sc-fyephy-1"})(["position:relative;padding-top:55%;margin-bottom:4px;"]),L=a.ZP.img.withConfig({displayName:"AllTopicsPage__TopicCover",componentId:"sc-fyephy-2"})(["display:block;width:100%;margin-bottom:8px;object-fit:contain;position:absolute;height:100%;top:0;left:0;"," border-radius:",";"],C.t.borderHover(),P.rS.radius.large),R=a.ZP.p.withConfig({displayName:"AllTopicsPage__Title",componentId:"sc-fyephy-3"})(["font-size:14px;font-weight:",";"],P.rS.fontWeights.semi),W=a.ZP.div.withConfig({displayName:"AllTopicsPage__HeaderRow",componentId:"sc-fyephy-4"})(["display:flex;flex-direction:row;align-items:center;margin-top:24px;margin-bottom:12px;button{margin-left:12px;}"]),H=a.ZP.h1.withConfig({displayName:"AllTopicsPage__Header",componentId:"sc-fyephy-5"})(["margin:0;"]),z=a.ZP.p.withConfig({displayName:"AllTopicsPage__Subheader",componentId:"sc-fyephy-6"})(["margin-bottom:32px;"]),G=a.ZP.div.withConfig({displayName:"AllTopicsPage__SortRow",componentId:"sc-fyephy-7"})(["display:flex;flex-direction:row;align-items:center;margin-top:8px;>:not(:first-child){margin-left:8px;}"]),O=a.ZP.span.withConfig({displayName:"AllTopicsPage__SortLabel",componentId:"sc-fyephy-8"})(["font-size:12px;"]),U=!0;function B(e){var n=e.topics;return(0,E.jsx)(S,{initialTopics:n})}},42776:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/categories",function(){return i(68749)}])}},function(e){e.O(0,[9774,2888,179],(function(){return n=42776,e(e.s=n);var n}));var n=e.O();_N_E=n}]);